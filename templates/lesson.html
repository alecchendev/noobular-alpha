{% from 'lesson_macros.html' import render_content, render_knowledge_point, render_next_button %}
<!DOCTYPE html>
<html>
<head>
    <title>{{ lesson.title }} - {{ course.title }}</title>
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
</head>
<body>
    <h1>{{ lesson.title }}</h1>
    <p><strong>Course:</strong> {{ course.title }}</p>

    {% if lesson.blocks|length >= 1 %}
        {% set block = lesson.blocks[0] %}
        {% if block.kind == "content" %}
            {{ render_content(block) }}
        {% elif block.kind == "knowledge_point" %}
            {{ render_knowledge_point(block) }}
        {% endif %}
    {% endif %}

    {% if lesson.blocks|length > 1 %}
        {{ render_next_button(course, lesson, 0) }}
    {% endif %}

    <a href="/course/{{ course.route }}">‚Üê Back to {{ course.title }}</a>
</body>
</html>
